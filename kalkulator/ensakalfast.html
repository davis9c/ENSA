<!doctype html>
<html lang="en">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- My CSS -->
    <!--<link rel="stylesheet" href="../assets/css/style.css" />-->
    <style type="text/css">
        .jumbotron {
            padding-top: 6rem;
            padding-bottom: 100%;
            background-color: #e2edff;
        }

        fieldset.scheduler-border {
            border: 1px groove #ddd !important;
            padding: 0 1.4em 1.4em 1.4em !important;
            margin: 0 0 1.5em 0 !important;
            -webkit-box-shadow: 0px 0px 0px 0px #000;
            box-shadow: 0px 0px 0px 0px #000;
        }

        legend.scheduler-border {
            font-size: 1.2em !important;
            font-weight: bold !important;
            text-align: left !important;
        }
    </style>
    <!-- Jquery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>ENSA Kalklator</title>
</head>

<body>
    <!-- Nav Bar -->
    <nav class="
                navbar navbar-expand-lg navbar-dark
                bg-primary
                fixed-top
                shadow
            ">
        <div class="container">
            <a class="navbar-brand" href="../index.html">Davis Aji</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="../gabut/ensakal.html">Home</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Nav Bar End -->
    <!--Jumbotron-->
    <section class="jumbotron">
        <h1 class="display-4  text-center">Kalkulator ENSA</h1>
        <div class="container">
            <hr>
            <div class="row">
                <div class="col-auto">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Result</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="table-success" id="tr_efisiensi">
                                <th>Efisiensi (%)</td>
                                <td>
                                    <div type="text" id="result_efisiensi_ensa">0
                                    </div>
                                </td>
                            </tr>
                            <tr class="table-success" id="tr_konsum_lem">
                                <th>Konsum Lem (gram/pcs)</td>
                                <td>
                                    <div type="text" id="result_konsum_lem">0</div>
                                </td>
                            </tr>
                            <tr class="table-success" id="tr_hasil_baik">
                                <th>Hasil Baik (pcs)</td>
                                <td>
                                    <div type="text" id="result_hasilbaik">0</div>
                                </td>
                            </tr>
                            <tr class="table-success" id="tr_waste_ensa">
                                <th>Waste Ensa (%)</td>
                                <td>
                                    <div type="text" id="result_wasteensa">0</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2">
                        <button type="button" class="btn btn-success" id="hitung">Hitung</button>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row">

                <form class="col-auto">
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border">ENSA Product</legend>
                        <!-- ENSA Waktu operasional-->
                        <div class="mb-3">
                            <label for="waktu_operasional" class="form-label">Waktu Operasional</label>
                            <div class="btn-group">
                                <div class="btn btn-info" onclick="waktu_operasional(-1)">min</div>
                                <div class="btn" id="sh_waktu_operasional">minutes</div>
                                <div class="btn btn-success" onclick="waktu_operasional(1)">add</div>
                            </div>
                            <input type="range" class="form-range" id="waktu_operasional" max="480" min="1" value="420">
                        </div>

                        <!-- ENSA COUNTER-->
                        <div class="mb-3">
                            <label for="ensa_counter" class="form-label">Perhitungan ENSA</label>
                            <div class="input-group">
                                <input type="range" class="form-range" id="ensa_counter" maxlength="12400" minlength="1"
                                    value="9300">
                                <span class="input-group-text">pcs</span>
                            </div>
                        </div>
                        <!-- ENSA Lubang-->
                        <div class="mb-3">
                            <label for="p_lubang" class="form-label">Lubang</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="p_lubang" placeholder="10" value="35"
                                    maxlength="12400" minlength="0">
                                <span class="input-group-text">pcs</span>
                            </div>
                        </div>
                        <!-- ENSA Selegenje dan WL-->
                        <div class="mb-3">
                            <label for="p_swl" class="form-label">Selegenje dan WL</label>
                            <div class="input-group">
                                <input type="number" class="form-control text-right" id="p_swl" placeholder="10"
                                    value="207" maxlength="">
                                <span class="input-group-text">pcs</span>
                            </div>
                        </div>

                    </fieldset>

                </form>

                <form class="col-auto">
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border">Lem</legend>
                        <!-- ENSA Total LEM-->
                        <div class="mb-3">
                            <label for="total_lem" class="form-label">Total Lem</label>
                            <div class="input-group">
                                <input type="number" class="form-control text-right" id="total_lem" placeholder="6000"
                                    value="7442">
                                <span class="input-group-text">grams</span>
                            </div>
                        </div>
                        <!-- ENSA Sisa LEM-->
                        <div class="mb-3">
                            <label for="sisa_lem" class="form-label">Lem Sisa</label>
                            <div class="input-group">
                                <input type="number" class="form-control text-right" id="sisa_lem" placeholder="150"
                                    value="714">
                                <span class="input-group-text">grams</span>
                            </div>
                        </div>
                        <!-- ENSA Waste LEM-->
                        <div class="mb-3">
                            <label for="waste_lem" class="form-label">Waste Lem</label>
                            <div class="input-group">
                                <input type="number" class="form-control text-right" id="waste_lem" placeholder="150"
                                    value="100">
                                <span class="input-group-text">grams</span>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
    </section>
    <!--Jumbotron end-->
    <!--Modal Start-->
    <!-- Modal -->
    <div class="modal fade" id="Modal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Selamat datang</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <p>Aplikasi Kalkulator menghitung efisiensi ENSA dikembangkan dari app sebelumnya</p>
                        <a href="./ensakal.html" class="btn btn-link">Program sebelumnya</a>
                        <p>Dan dikembangkan oleh "Ajimedia" x "Davis Aji"</p>
                    </div>
                    <div>
                        <h5><b><i>~Have a Nice Day~</i></b></h5>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!--Modal End-->
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            //$('#Modal').modal('show');
            $("#hitung").click(function () {
                kalkulasi();
            });
            $("#waktu_operasional").change(function () {
                console.log($("#waktu_operasional").val());
                $("#sh_waktu_operasional").text($("#waktu_operasional").val() + "/" + $("#waktu_operasional").attr("max"));
            });

            function kalkulasi() {

                //inisialisasi
                {
                    let ensa_counter = parseInt($("#ensa_counter").val());
                    let waktu_operasional = parseInt($("#waktu_operasional").val());
                    let total_lem = parseInt($("#total_lem").val());
                    let sisa_lem = parseInt($("#sisa_lem").val());
                    let waste_lem = parseInt($("#waste_lem").val());

                    let produk_lubang = parseInt($("#p_lubang").val());
                    let produk_selewl = parseInt($("#p_swl").val());

                    let waste_produk = produk_lubang + produk_selewl;
                }

                //Rumus kalkulasi
                {
                    let efisiensi = ((ensa_counter / waktu_operasional) / 30) * 100;
                    let konsum_lem = (total_lem - (sisa_lem + waste_lem)) / ensa_counter;
                    let hasil_baik = ensa_counter - (produk_lubang + produk_selewl);
                    let waste_ensa = (waste_produk / ensa_counter) * 100;
                }

                //cek efisiensi ENSA
                {
                    if (efisiensi >= 75) {
                        //efisiensi bagus
                        $("#tr_efisiensi").attr("class", "table-success");
                    } else {
                        //efisiensi rendah
                        $("#tr_efisiensi").attr("class", "table-danger");
                    }
                }

                //cek konsum lem
                {
                    if (konsum_lem < 0.8) {
                        if (konsum_lem > 0.6) {
                            //konsumlem bagus
                            $("#tr_konsum_lem").attr("class", "table-success");
                        } else {
                            //konsumlem terlalu rendah
                            $("#tr_konsum_lem").attr("class", "table-warning");
                        }
                    } else {
                        //konsumlem tinggi
                        $("#tr_konsum_lem").attr("class", "table-danger");
                    }
                }

                //cek hasil baik
                if (hasil_baik) {

                }

                //cek waste ensa
                {
                    if (waste_ensa <= 1) {
                        //Waste cukup baik
                        $("#tr_waste_ensa").attr("class", "table-success");
                    } else {
                        if (waste_ensa <= 5) {
                            //hasil waspada
                            $("#tr_waste_ensa").attr("class", "table-warning");
                        } else {
                            //hasil buruk
                            $("#tr_waste_ensa").attr("class", "table-danger");
                        }
                    }
                }

                $("#result_efisiensi_ensa").text(efisiensi.toFixed(2));
                $("#result_konsum_lem").text(konsum_lem.toFixed(2));
                $("#result_hasilbaik").text(hasil_baik);
                $("#result_wasteensa").text(waste_ensa.toFixed(2));
            }
        });
        function waktu_operasional(i) {
            $("#waktu_operasional").val(i + parseInt($("#waktu_operasional").val()));
            $("#sh_waktu_operasional").text($("#waktu_operasional").val() + "/" + $("#waktu_operasional").attr("max"));
        }
    </script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
</body>

</html>